{% extends 'base.html' %}
{% load static i18n %}
{% load crispy_forms_tags %}

{% block head %}
<link href="{% static 'css/delivery-pickup-create.css' %}" rel="stylesheet"/>
{% endblock head %}

{% block content %}
<div class="page-wrapper">
    <div class="page-head">
      {% if request.META.HTTP_REFERER %}
        <a  href="javascript:history.back()" class="cls-back-btn">
           <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
              <path fill="none" d="M0 0h24v24H0z" />
              <path d="M10.828 12l4.95 4.95-1.414 1.414L8 12l6.364-6.364 1.414 1.414z" />
           </svg>
        </a>
      {% endif  %}
    </div>

    <form class="main-top" action="{% url 'classifieds:set_delivery_pickup' %}" name="deliveryForm"
           enctype="multipart/form-data" id="delivery-form" method="post" role="form">
          {% csrf_token %}

          <div class="column">
              <div class="input-group">
                  <input type="text" id="sender_name" name="sender_name" maxlength="80"
                   class="form-field" required placeholder="{% trans 'Name' %}" value="{{request.user.username | title}}">
                  <input type="text" id="sender_phone" name="sender_phone" maxlength="11" class="form-field" required
                    placeholder="{% trans 'Name' %}" value="{{request.user.phone_number.national_number}}">
               </div>

               <textarea name="sender_address" id="sender_address" cols="40" rows="2" maxlength="2000"
                class="form-field" placeholder="{% trans 'Full Address' %}"
                >{{ request.user.chinese_address | default_if_none:'Your address in Chinese' }}
               </textarea>

              <div class="input-group receiver-divider">
                  <input type="text" id="receiver_name" name="receiver_name" maxlength="80" class="form-field" required
                    placeholder="{% trans 'Receiver name' %}" value="{{order.full_name | title }}">
                  <input type="text" id="receiver_phone" name="receiver_phone" maxlength="11" class="form-field" required
                    placeholder="{% trans 'Phone number' %}" value="{{order.phone_number}}" >
               </div>

               <textarea name="receiver_address" id="receiver_address" cols="40" rows="2" maxlength="2000"
                    class="form-field" placeholder="{% trans 'Full Address' %}"
                    >{{ order.recipient_chinese_address | default_if_none:"Contact us to get buyer's Address" }}
               </textarea>

                  <div class="weight">
                      <label>
                          {% trans 'Weight' %}
                      </label> <span> KG &nbsp;
                          <input type="number" id="id_price" name="weight" id="weight"
                          required step="1" value="1"  class="numberinput input">
                      <span>
                  </div>

                  <small class="price-manual"> {% trans 'Weight is optional, approximation is okay' %}
                  </small>

                <br/>
                <a id="submit"
                    class="button is-rounded is-solid accent-button raised is-fullwidth"
                    data-step="step-dot-4">{% trans 'Confirm' %}
                </a>
     </div>

  </form>
  {{ form.media }}

{% endblock content %}

{% block extra_js %}

<script type="text/javascript">
  const phone_no_url = "{% url 'account_login' %}";
</script>

<link href="{% static 'css/wnoty.css' %}" rel="stylesheet"/>
<script src="{% static 'js/vendor/jquery.min.js' %}" type="text/javascript"></script>
<script src="{% static 'js/location.js' %}" type="text/javascript"> </script>
<script defer src="{% static 'js/wnoty.js' %}" type="text/javascript"></script>
{% endblock extra_js %}
