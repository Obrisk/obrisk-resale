{% load static i18n %}
{% load pwa_webpush %}

<!DOCTYPE html>
<html lang="en">

<head>
  <meta name="google-site-verification" content="NVNmEgtDfFzJD89nlq7dQDSCMAGj-q_d3JI0buqyxJ4" />
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description"
    content="classifieds website for foreigners in China to buy and sell secondhand items and find apartments for rent">
  <meta name="author" content="Obrisk team">
  <meta name="keywords" content="secondhand Hangzhou, secondhand China, China Classifieds, secondhand, classifieds, China expats, foreigners in China">
  <meta name="apple-mobile-web-app-title" content="obrisk">
  <meta name="locale" content="en">
  <meta name="theme-color" content="#3EC4E2">

  {% block icon %}
  <link rel="icon" type="image/png" href="{% static 'img/favicon.png' %}">
  <link rel="shortcut icon" href="{% static 'img/favicon.ico' %}">
  <link rel="apple-touch-icon" sizes="180x180" href="{% static 'img/apple-touch-icon.png' %}?v=1">
  <link rel="icon" type="image/png" sizes="32x32" href="{% static 'img/favicon-32x32.png' %}?v=1">
  <link rel="icon" type="image/png" sizes="16x16" href="{% static 'img/favicon-16x16.png' %}?v=1">

  {% endblock icon %}

  <title>Obrisk</title>

  <!-- Custom styles for this template -->
  <link rel="stylesheet" href="{% static 'css/bulma.css' %}">
  <link rel="stylesheet" type="text/css" href="{% static 'css/home.css' %}">

  <script>
    // Initialize the service worker
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/serviceworker.js', {
        scope: '/'
      }).then(function (registration) {
        // Registration was successful
        console.log(': ServiceWorker registration successful with scope: ', registration.scope);
      }, function (err) {
        // registration failed :(
        console.log(': ServiceWorker registration failed: ', err);
      });
    }
  </script>
  <!-- pwa settings -->
  {% progressive_web_app_meta %}


</head>

<body id="page-top">

  <div class="carousel slide" data-ride="carousel">
    <div class="carousel-inner">
      <div class="banner">

        <br/>
        <br/>
        <br/>

        <div class="main_title text-center">
            <h2> {% trans 'Hi! Welcome to Obrisk' %} </h2>
            <h5>{% trans 'The best secondhand platform for foreigners in China' %}</h5>
            <br/>
        </div>

        <div class="is-flex call-to-action">
          <a class="button is-solid is-rounded text-dark"
            href="{% url 'account_signup' %}">{% trans 'Sign up' %}
          </a>
          <a class="button is-solid is-rounded text-dark"
            href="{% url 'account_login' %}">{% trans 'Login' %}
          </a>
        </div>

        </div>

    </div>

    <div class='btm-bg'>

      <p>{% trans 'Easily Buy or sell stuff closer to your location' %}</p>

      <a href="{% url 'classifieds:list' %}"
          class="button is-solid is-rounded accent-button">
          {% trans 'View the platform' %}
      </a>
  </div>

  </div>

  <!-- Footer -->
  <footer class="bg-light py-5">
    <div class="container">
      <div class="text-secondary text-center text-muted">
        <!-- <a href="{% url 'about' %}"> about </a> -->
        <a class="text-center text-muted p-2" href="{% url 'about' %}"> {% trans 'About ' %}</a>
        <a class="text-center text-muted p-2" href="{% url 'terms_and_conditions' %}"> {% trans 'Terms and condition' %} </a>
        <a class="text-center text-muted p-2" href="{% url 'privacy_policy' %}"> {% trans 'Privacy policy ' %} </a>
      </div>

      <div class="small text-center text-muted"> Copyright &copy; 2020 - Obrisk </div>
      <div class="small text-center text-muted"> All rights reserved </div>
      <div class="small text-center text-muted"> <a href="http://www.beian.miit.gov.cn">  浙ICP备20003551号</a>  </div>
    </div>
  </footer>

  <script>
    /**
     * Vic Shóstak <truewebartisans@gmail.com>
     * Copyright (c) 2019 True web artisans https://1wa.co
     * http://opensource.org/licenses/MIT The MIT License (MIT)
     *
     * a2hs.js v0.4.5 at 13/05/2019
     *
     * Add to Home Screen
     *
     * A useful modern JavaScript solution for adding a progressive
     * web application (PWA) to the home screen of your mobile
     * iOS device.
     *
     * @param settings Initial settings.
     * @return {HTMLElement}
     *
     * @example
     * import AddToHomeScreen from "a2hs.js";
     * AddToHomeScreen({
     *  brandName: "Demo",
     *  fontFamily: "Tahoma, sans-serif",
     *  backgroundColor: "red",
     *  color: "white"
     * });
     */
    var AddToHomeScreen = function (settings = {}) {
      // Container styles
      var backgroundColor = settings.backgroundColor || "#f9f9f9";
      var padding = settings.padding || "10px";
      var shadowColor = settings.shadowColor || "#e9e9e9";
      var shadowSize = settings.shadowSize || "10px";
      // Content styles
      var fontFamily = settings.fontFamily || "-apple-system, sans-serif";
      var color = settings.color || "#5d5d5d";
      var fontSize = settings.fontSize || "0.9rem";
      // Content
      var brandName = settings.brandName || "";
      var logoImage =
        settings.logoImage ||
        `<svg enable-background="new 0 0 1952.00 734.93" height="25" viewBox="0 0 1952 734.93" width="70" xmlns="http://www.w3.org/2000/svg">
              <g stroke-linejoin="round" stroke-width=".2">
                <path d="m1436.62 603.304 56.39-142.599h162.82l-77.27-216.315 96.64-244.38947166 276.8 734.93247166h-204.13l-47.3-131.629z" fill="#3d3d3d"/>
                <path d="m1262.47 734.935 296.32-734.93343407-196.45.00097657-202.7 474.9304575-144.14-474.92948094h-151.001l-154.768 474.92948094-109.146-216.416-98.773 304.302 100.284 172.116h193.331l139.857-425.91 133.346 425.91z" fill="#5a0fc8"/>
                <path d="m186.476 482.643h121.003c36.654 0 69.293-4.091 97.917-12.273l31.293-96.408 87.459-269.446c-6.664-10.5625-14.272-20.5493-22.824-29.9591-44.905-49.7049-110.605-74.55649373-197.102-74.55649373h-304.22200381v734.93259373h186.47600381zm160.166-313.564c17.54 17.653 26.309 41.276 26.309 70.871 0 29.822-7.713 53.474-23.138 70.956-16.91 19.425-48.047 29.137-93.409 29.137h-69.928v-197.445h70.442c42.277 0 72.185 8.827 89.724 26.481z" fill="#3d3d3d"/>
              </g>
            </svg>`;
      var htmlContent =
        settings.htmlContent ||
        `Install <strong>${brandName} app</strong> on your device: On safari, tap share and <strong>Add to Home Screen</strong> ↓`;
      // Define iOS User-Agent variable
      var iOS = /iphone|ipad|ipod/.test(window.navigator.userAgent.toLowerCase());
      var isSafari = !!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/);
      var isWX = /wxwork/gi.test(window.navigator.userAgent);
      var isWeixin = /MicroMessenger/gi.test(window.navigator.userAgent)
      // Define standalone mode variable
      var standalone =
        "standalone" in window.navigator && window.navigator.standalone;
      // Check localStorage before render a2hs container
      if (iOS && !standalone && isSafari && !isWX && !isWeixin && !window.localStorage.a2hs_message) {
        // Define container variable
        var div = document.createElement("div");
        // Define style variable
        var style = document.createElement("style");
        // Create styles
        style.innerHTML = `
            .a2hs__container {
              display: flex;
              align-items: center;
              justify-content: center;
              position: fixed;
              box-sizing: border-box;
              box-shadow: ${shadowColor} 0 0 ${shadowSize};
              background-color: ${backgroundColor};
              padding: ${padding};
              width: 100%;
              bottom: 0;
              right: 0;
              left: 0;
              z-index:999;
            }
            .a2hs__container .a2hs__logo {
              padding: ${padding};
            }
            .a2hs__container .a2hs__text {
              font-family: ${fontFamily};
              font-size: ${fontSize};
              color: ${color};
            }`;
        // Create message
        div.innerHTML = `
            <div class="a2hs__text">${htmlContent}</div>`;
        // Add class to container
        div.setAttribute("class", "a2hs__container");
        // Add onClick function
        div.onclick = function (event) {
          // Prevent default click
          event.preventDefault();
          // Hide a2hs_message
          window.localStorage.setItem("a2hs_message", "hide");
          // Remove a2hs container from DOM
          document.querySelector(".a2hs__container").remove();
        };
        // Render elements
        document.head.appendChild(style);
        document.body.appendChild(div);
      }
    };
    AddToHomeScreen({
      brandName: "Obrisk",
      fontFamily: "Tahoma, sans-serif",
      backgroundColor: "#3ec4e2",
      color: "white",

    });
  </script>
</body>

</html>
