{% extends 'base.html' %}
{% load static i18n %}
{% load humanize thumbnail %}

{% block title %} {% trans 'Search Results' %} {% endblock %}

{% block head %}
<link href="{% static 'css/listing.css' %}" rel="stylesheet">
<link href="{% static 'css/classifieds.css' %}" rel="stylesheet">
<link href="{% static 'css/classifieds-list.css' %}?v=1908301" rel="stylesheet">
<link href="{% static 'css/stories.css' %}?v=1" rel="stylesheet">
<link href="{% static 'css/qa.css' %}" rel="stylesheet">
{% endblock head %}

{% block content %}
<div class="view-wrapper">
  <div class="container ">
    <!-- Profile page main wrapper -->
    <div id="profile-friends" class="view-wrap is-headless">


      <div class="columns">
        <div class="column">
          <!-- Page Content -->
          <div class="container search-results">
            <!-- This search bar should be displayed with pre-filled in values that user searched for. -->
            <!-- currently it is not doing so -->
            <div class="col-md-3 mb-5 mt-5">
              <div class="justify-content-end ml-auto d-flex flex-row">
                <form class="searchbar" id="classifiedsearch" action="{% url 'connections:users_search_results' %}"
                  style="display:inline;">
                  <input type="text" name="query" placeholder="Search...">
                  <div class="search"></div>
                </form>

              </div>
            </div>

            <!-- row -->
            <div class="row">
              <div class="col-md-3">
                <div class="list-group" id="list-tab" role="tablist">
                  <a class="list-group-item list-group-item-action active" id="list-classifieds-list" data-toggle="list"
                    href="#list-classifieds" role="tab" aria-controls="classifieds">{% trans 'Users' %}<span
                      class="badge btn-dark pull-right">{{ users_count }}</span></a>

                </div>
              </div>
              <div class="col-md-9 p-0">
                <div class="tab-content" id="nav-tabContent">
                  <div class="tab-pane fade my-4 show active" id="list-classifieds" role="tabpanel"
                    aria-labelledby="list-classifieds-list">
                    <div
                      class="classifieds col-12 m-auto d-flex flex-wrap p-0 justify-content-lg-start justify-content-center">
                      {% for user in users_list %}

                      <div class="card classified-card mr-2 mb-3 justify-content-center">
                        <!--Display image-->
                        {% if user.thumbnail %}
                        <a href="{% url 'users:detail' user.username %}">
                          <img src="https://obrisk.oss-cn-hangzhou.aliyuncs.com/{{user.thumbnail}}"
                                alt="Picture Profile" style="width:40px;height:40px;border-radius: 50%;"
                                class="rounded-circle  mb-3 mb-md-0 mr-md-3 profile-header-avatar img-fluid"
                                id="pic"> </a>
                    {% else %}
                    <a href="{% url 'users:detail' user.username %}">
                        <img src="{% static 'img/user.png' %}" height="40px" alt="No Profile Picture" />
                    </a>
                    {% endif %}
                  </div>
                  <h3>{{ user.username | title}}</h3>
                </a>
              </div>
                        
                            </div>
                          </div>
                        </a>
                      </div>
                      {% empty %}
                      <h4 class="card-body card card">
                      currently, user {{ query }} does not exists
                      </h4>
                      {% endfor %}
                    </div>
                  </div>

                  <div class="tab-pane fade my-4 " id="list-tags" role="tabpanel" aria-labelledby="list-tags-list">
                   
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <!-- /.row -->
          </div>
          <!-- /.container -->
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock content %}