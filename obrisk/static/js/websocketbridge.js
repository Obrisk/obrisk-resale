/*!
 * Do not edit!. This file is autogenerated by running `npm run browserify`.
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).channels=e()}}((function(){return function e(n,o,t){function r(c,s){if(!o[c]){if(!n[c]){var a="function"==typeof require&&require;if(!s&&a)return a(c,!0);if(i)return i(c,!0);var u=new Error("Cannot find module '"+c+"'");throw u.code="MODULE_NOT_FOUND",u}var f=o[c]={exports:{}};n[c][0].call(f.exports,(function(e){var o=n[c][1][e];return r(o||e)}),f,f.exports,e,n,o,t)}return o[c].exports}for(var i="function"==typeof require&&require,c=0;c<t.length;c++)r(t[c]);return r}({1:[function(e,n,o){"use strict";var t=function(e){return e&&2===e.CLOSING},r=function(e,n,o){Object.defineProperty(n,o,{get:function(){return e[o]},set:function(n){e[o]=n},enumerable:!0,configurable:!0})},i=function(e){return e.minReconnectionDelay+Math.random()*e.minReconnectionDelay},c=["onopen","onclose","onmessage","onerror"],s=function(e,n,o){var a,u,f=this;void 0===o&&(o={});var l=0,d=0,v=!0,y=null,p={};if(!(this instanceof s))throw new TypeError("Failed to construct 'ReconnectingWebSocket': Please use the 'new' operator");var m={constructor:"undefined"!=typeof WebSocket&&t(WebSocket)?WebSocket:null,maxReconnectionDelay:1e4,minReconnectionDelay:1500,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:1/0,debug:!1};if(Object.keys(m).filter((function(e){return o.hasOwnProperty(e)})).forEach((function(e){return m[e]=o[e]})),!t(m.constructor))throw new TypeError("Invalid WebSocket constructor. Set `options.constructor`");var h=m.debug?function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return console.log.apply(console,["RWS:"].concat(e))}:function(){},b=function(e,n){return setTimeout((function(){var o=new Error(n);o.code=e,Array.isArray(p.error)&&p.error.forEach((function(e){return(0,e[0])(o)})),a.onerror&&a.onerror(o)}),0)},w=function(){h("handleClose",{shouldRetry:v}),d++,h("retries count:",d),d>m.maxRetries?b("EHOSTDOWN","Too many failed connection attempts"):(l=l?function(e,n){var o=n*e.reconnectionDelayGrowFactor;return o>e.maxReconnectionDelay?e.maxReconnectionDelay:o}(m,l):i(m),h("handleClose - reconnectDelay:",l),v&&setTimeout(E,l))},E=function(){if(v){h("connect");var o=a,t="function"==typeof e?e():e;if(1===(a=new m.constructor(t,n)).readyState){for(var s in u=setTimeout((function(){h("timeout"),a.close(),b("ETIMEDOUT","Connection timeout")}),m.connectionTimeout),h("bypass properties"),a)["addEventListener","removeEventListener","close","send"].indexOf(s)<0&&r(a,f,s);a.addEventListener("open",(function(){clearTimeout(u),h("open"),l=i(m),h("reconnectDelay:",l),d=0})),a.addEventListener("close",w),function(e,n,o){Object.keys(o).forEach((function(n){o[n].forEach((function(o){var t=o[0],r=o[1];e.addEventListener(n,t,r)}))})),n&&c.forEach((function(o){e[o]=n[o]}))}(a,o,p),a.onclose=a.onclose||y,y=null}}};h("init"),E(),this.close=function(e,n,o){void 0===e&&(e=1e3),void 0===n&&(n="");var t=void 0===o?{}:o,r=t.keepClosed,i=void 0!==r&&r,c=t.fastClose,s=void 0===c||c,u=t.delay,f=void 0===u?0:u;if(h("close - params:",{reason:n,keepClosed:i,fastClose:s,delay:f,retriesCount:d,maxRetries:m.maxRetries}),v=!i&&d<=m.maxRetries,f&&(l=f),a.close(e,n),s){var b={code:e,reason:n,wasClean:!0};w(),a.removeEventListener("close",w),Array.isArray(p.close)&&p.close.forEach((function(e){var n=e[0],o=e[1];n(b),a.removeEventListener("close",n,o)})),a.onclose&&(y=a.onclose,a.onclose(b),a.onclose=null)}},this.send=function(e){a.send(e)},this.addEventListener=function(e,n,o){Array.isArray(p[e])?p[e].some((function(e){return e[0]===n}))||p[e].push([n,o]):p[e]=[[n,o]],a.addEventListener(e,n,o)},this.removeEventListener=function(e,n,o){Array.isArray(p[e])&&(p[e]=p[e].filter((function(e){return e[0]!==n}))),a.removeEventListener(e,n,o)}};n.exports=s},{}],2:[function(e,n,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.WebSocketBridge=void 0;var t,r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t])}return e},i=function(){function e(e,n){for(var o=0;o<n.length;o++){var t=n[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,o,t){return o&&e(n.prototype,o),t&&e(n,t),n}}(),c=e("reconnecting-websocket"),s=(t=c)&&t.__esModule?t:{default:t};var a=function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.socket=null,this.streams={},this.default_cb=null,this.options=r({},n)}return i(e,[{key:"connect",value:function(e,n,o){var t=void 0,r=("https:"===window.location.protocol?"wss":"ws")+"://"+window.location.host;t=void 0===e?r:"/"==e[0]?""+r+e:e,this.socket=new s.default(t,n,o)}},{key:"listen",value:function(e){var n=this;this.default_cb=e,this.socket.onmessage=function(e){var o=JSON.parse(e.data),t=void 0,r=void 0;if(void 0!==o.stream){t=o.payload,r=o.stream;var i=n.streams[r];i&&i(t,r)}else t=o,r=null,n.default_cb&&n.default_cb(t,r)}}},{key:"demultiplex",value:function(e,n){this.streams[e]=n}},{key:"send",value:function(e){this.socket.send(JSON.stringify(e))}},{key:"stream",value:function(e){var n=this;return{send:function(o){var t={stream:e,payload:o};n.socket.send(JSON.stringify(t))}}}}]),e}();o.WebSocketBridge=a},{"reconnecting-websocket":1}]},{},[2])(2)}));