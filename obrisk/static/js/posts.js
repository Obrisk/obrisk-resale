$((function(){$("#post-submit").click((function(t){t.preventDefault(),$("input[name='status']").val("P"),""==$("#id_title").val()||""==$("#id_image").val()?(t.preventDefault(),$.wnoty({type:"error",autohide:!1,message:"Please fill in all the required fields."})):($("#id_content_html").val(quill.root.innerHTML),$("#id_content_json").val(JSON.stringify(quill.getContents())),$("#posts-form").submit())})),$("#post-update").click((function(){$("input[name='status']").val("P"),$("input[name='edited']").val("True"),""==$("#id_title").val()||""==$("#id_image").val()?$.wnoty({type:"error",autohide:!1,message:"Please fill in all the required fields."}):($("#id_content_html").val(quill.root.innerHTML),$("#id_content_json").val(JSON.stringify(quill.getContents())),$("#posts-form").submit())})),$("#post-draft").click((function(){$("input[name='status']").val("D"),event.preventDefault(),""==$("#id_title").val()||""==$("#id_image").val()?(event.preventDefault(),$.wnoty({type:"error",autohide:!1,message:"Please fill in all the required fields."})):($("#id_content_html").val(quill.root.innerHTML),$("#id_content_json").val(JSON.stringify(quill.getContents())),$("#posts-form").submit())})),$("#chooseFile").click((function(){$("#uploader").show()})),$("body").on("uploadComplete",(function(t){var e=images.split(",");for(var i in e)$("#imgs-list").append("<p> https://obrisk.oss-cn-hangzhou.aliyuncs.com/"+e[i]+"</p>")})),$("#startImgUpload").click((function(t){console.log("clicked"),uploader.fileStats.totalFilesNum>0?($("body").trigger("submitClicked"),console.log("submit trigged")):$.wnoty({type:"error",autohide:!1,message:"Please upload at least one image for your post"})}))})),$(document).ready((function(){$.fn.serializeToJSON=function(){var t={},e=this.serializeArray();return $.each(e,(function(){t[this.name]?(t[this.name].push||(t[this.name]=[t[this.name]]),t[this.name].push(this.value||"")):t[this.name]=this.value||""})),t},$((function(){$(".comment-btn").click((function(t){t.preventDefault(),$.ajax({method:"POST",url:url,data:$("#commentForm").serialize(),processData:!1,success:function(t){$("#comment-notify").html(t),$("#commentForm")[0].reset(),location.reload()},error:function(t){console.log(t)}})}))}))}));