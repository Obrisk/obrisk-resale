function callpay(){if(isNaN(price)||"0.00"===price)return document.getElementById("payError").innerHTML="Only priced items can accept payments",void setTimeout(()=>{document.getElementById("payError").innerHTML=""},7e3);const e=encodeURIComponent(slug);window.location.href=orderUrl+e}function onSale(e){const n=document.getElementById("meta-info");if(e.checked){const e=`\n              <div class="action-wrapper" id=actions">\n                  <a class="button action-button chat-button" href="${editItem}"\n                      title="Edit this classified">\n                      âœŽEdit\n                  </a>\n                  <a class="button action-button pay-button" href="#"\n                      title="Edit this classified">\n                      ðŸ“¤Share\n                  </a>\n              </div>`;n.nextElementSibling.remove(),n.insertAdjacentHTML("afterend",e)}else{const e='\n              <div class="notification is-warning" id="unavailable">\n                This item is no longer available\n              </div>';n.nextElementSibling.remove(),n.insertAdjacentHTML("afterend",e)}}document.addEventListener("DOMContentLoaded",(function(){wx.ready((function(){try{wx.onMenuShareAppMessage({title:title,desc:str_price+" "+descr,link:location.href,imgUrl:thumbnail,trigger:function(e){console.log(JSON.stringify(e))},success:function(e){console.log(JSON.stringify(e))},fail:function(e){console.log(JSON.stringify(e))}}),wx.onMenuShareTimeline({title:title,desc:str_price+" "+descr,link:location.href,imgUrl:thumbnail,trigger:function(e){console.log(JSON.stringify(e))},success:function(e){console.log(JSON.stringify(e))},fail:function(e){console.log(JSON.stringify(e))}})}catch(e){console.log(e)}})),wx.error((function(e){console.log(e)}));const e=document.getElementById("chat-button-id");null!==e&&e.addEventListener("click",()=>{"undefined"!=typeof currentUser?window.location.href=chatUrl:wechat_browser?window.location.href=wechatAuth:window.location.href=loginUrl});const n=document.getElementById("tags");null!==n&&n.addEventListener("click",()=>{sessionStorage.restoreScroll="false"})})),"undefined"!=typeof toggler&&(window.onbeforeunload=function(){let e="E";toggler.checked!==switch_value&&(e=!0===toggler.checked?"A":"E",fetch(removeUrl,{method:"POST",body:JSON.stringify({sg:slug,st:e}),headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"},credentials:"same-origin",redirect:"follow"}).then(e=>{}).catch(e=>{console.error("failure to toggle item availability",e)}))});